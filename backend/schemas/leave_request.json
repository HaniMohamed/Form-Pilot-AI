{
  "form_id": "leave_request",
  "rules": {
    "interaction": {
      "ask_one_field_at_a_time": true,
      "never_assume_values": true
    }
  },
  "fields": [
    {
      "id": "leave_type",
      "type": "dropdown",
      "required": true,
      "options": ["Annual", "Sick", "Emergency", "Unpaid"],
      "prompt": "What type of leave are you requesting?"
    },
    {
      "id": "start_date",
      "type": "date",
      "required": true,
      "prompt": "When does your leave start?"
    },
    {
      "id": "end_date",
      "type": "date",
      "required": true,
      "prompt": "When does your leave end?"
    },
    {
      "id": "reason",
      "type": "text",
      "required": true,
      "prompt": "Please provide a reason for your leave"
    },
    {
      "id": "medical_certificate",
      "type": "checkbox",
      "required": true,
      "options": ["Yes", "No"],
      "prompt": "Do you have a medical certificate?",
      "visible_if": {
        "all": [
          { "field": "leave_type", "operator": "EQUALS", "value": "Sick" }
        ]
      }
    },
    {
      "id": "emergency_contact",
      "type": "text",
      "required": true,
      "prompt": "Please provide an emergency contact name and number",
      "visible_if": {
        "all": [
          { "field": "leave_type", "operator": "EQUALS", "value": "Emergency" }
        ]
      }
    },
    {
      "id": "handover_notes",
      "type": "text",
      "required": false,
      "prompt": "Any handover notes for your team?",
      "visible_if": {
        "all": [
          { "field": "start_date", "operator": "EXISTS" },
          { "field": "end_date", "operator": "EXISTS" }
        ]
      }
    }
  ]
}
