{
  "form_id": "incident_report",
  "rules": {
    "interaction": {
      "ask_one_field_at_a_time": true,
      "never_assume_values": true
    }
  },
  "fields": [
    {
      "id": "incident_type",
      "type": "dropdown",
      "required": true,
      "options": ["Fire", "Accident", "Injury"],
      "prompt": "What is the incident type?"
    },
    {
      "id": "start_date",
      "type": "date",
      "required": true,
      "prompt": "Please select the start date"
    },
    {
      "id": "end_date",
      "type": "date",
      "required": true,
      "prompt": "Please select the end date"
    },
    {
      "id": "followup_reason",
      "type": "text",
      "required": true,
      "prompt": "Please explain why a follow-up is required",
      "visible_if": {
        "all": [
          { "field": "start_date", "operator": "EXISTS" },
          { "field": "end_date", "operator": "EXISTS" },
          {
            "field": "end_date",
            "operator": "AFTER",
            "value_field": "start_date"
          }
        ]
      }
    },
    {
      "id": "location",
      "type": "location",
      "required": true,
      "prompt": "Please select the incident location"
    }
  ]
}
